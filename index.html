<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
  </body>
  <script>
    var socket = new WebSocket("wss://127.0.0.1:8080?dddd=1&fsfsd=f%26 fΩf+f");

    socket.onopen = function() {
      console.log("Соединение установлено.");
    	socket.send("Hello world");
    };

    socket.onclose = function(e) {
      if (e.wasClean) {
        console.log("Соединение закрыто чисто");        
      } else {
        console.log("Обрыв соединения");        
      }

      console.log('Код: ' + e.code + ' причина: ' + e.reason); 
    }

    socket.onmessage = function(event) {
      console.log("Получены данные " + event.data);
    };

    socket.onerror = function(error) {
      console.log("Ошибка " + error.message);
    };

    function send() {
      socket.send(document.getElementById("send-input").value);
    }

  </script>

  <input id="send-input"></input>
  <button onclick="send()">Send</button>
</html>
